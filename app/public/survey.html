<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Font Awesome Glyphicons -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

</head>

<body>


    <div class="container">

        <h2>Survey Questions
            <button class="btn btn-lg btn-default">
                <span>
                    <a class="fa fa-home" href="/" role="button"></a>
                </span>
            </button>
        </h2>
        <hr>

        <h3><strong>About You</strong></h3>
        <h4 class="custom-font-h4">Name (Required)</h4>
        <input type="text" id="name" class="form-control" required="">

        <h4 class="custom-font-h4">Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required="">

        <hr>

        <p>All questions follow 1 (Strongly Disagree) to 5 (Strongly Agree)</p>

        <hr>

        <!-- Question 1 -->
        <h3><strong>Question 1</strong></h3>
        <h4 class="custom-font-h4">Your mind is always buzzing with unexplored ideas and plans.</h4>

        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Select an option
            </button>
            <div class="dropdown-menu" id="Q1" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">1</a>
                <a class="dropdown-item">2</a>
                <a class="dropdown-item">3</a>
                <a class="dropdown-item">4</a>
                <a class="dropdown-item">5</a>
            </div>
        </div>
        <br>

        <!-- Question 2 -->
        <h3><strong>Question 2</strong></h3>
        <h4 class="custom-font-h4">Generally speaking, you rely more on your experience than your imagination.</h4>

        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Select an option
            </button>
            <div class="dropdown-menu" id="Q2" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">1</a>
                <a class="dropdown-item">2</a>
                <a class="dropdown-item">3</a>
                <a class="dropdown-item">4</a>
                <a class="dropdown-item">5</a>
            </div>
        </div>
        <br>


        <!-- Question 3 -->
        <h3><strong>Question 3</strong></h3>
        <h4 class="custom-font-h4">You find it easy to stay relaxed and focused even when there is some pressure.</h4>

        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Select an option
            </button>
            <div class="dropdown-menu" id="Q3" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">1</a>
                <a class="dropdown-item">2</a>
                <a class="dropdown-item">3</a>
                <a class="dropdown-item">4</a>
                <a class="dropdown-item">5</a>
            </div>
        </div>
        <br>

        <!-- Question 4 -->
        <h3><strong>Question 4</strong></h3>
        <h4 class="custom-font-h4">You rarely do something just out of sheer curiosity.</h4>

        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Select an option
            </button>
            <div class="dropdown-menu" id="Q4" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">1</a>
                <a class="dropdown-item">2</a>
                <a class="dropdown-item">3</a>
                <a class="dropdown-item">4</a>
                <a class="dropdown-item">5</a>
            </div>
        </div>
        <br>

        <!-- Question 5 -->
        <h3><strong>Question 5</strong></h3>
        <h4 class="custom-font-h4">People can rarely upset you.</h4>

        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Select an option
            </button>
            <div class="dropdown-menu" id="Q5" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item">1</a>
                <a class="dropdown-item">2</a>
                <a class="dropdown-item">3</a>
                <a class="dropdown-item">4</a>
                <a class="dropdown-item">5</a>
            </div>
        </div>
        <br>
        <br>


        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle"
                aria-hidden="true"></i>
            Submit
        </button>

        <!-- Footer -->
        <footer class="footer">
            <div>
                <p class="footer-font-size">
                    <a href="/api/friendslist">API Friends List</a> | <a
                        href="https://github.com/pswartz66/FriendFinder">GitHub Repo</a>
                </p>
            </div>
        </footer>


    </div>


    <!-- JQuery links -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>


    <!-- <script src="../data/friends.js"></script> -->

    <script>

        let scores = [];
        let numberScoresArr = [];

        let surveyObj = {};

        let questionState = false;


        $('#Q1 > a').on("click", function () {

            event.preventDefault();

            if (scores.length === 0) {

                scores.push($(this).text());
                numberScoresArr.push(parseInt(scores[0]));

                console.log(scores);
                console.log(numberScoresArr);

            }

        });

        $('#Q2 > a').on("click", function () {

            event.preventDefault();

            if (scores.length === 1) {

                scores.push($(this).text());
                numberScoresArr.push(parseInt(scores[1]));


                console.log(scores);

            }

        });

        $('#Q3 > a').on("click", function () {

            event.preventDefault();

            if (scores.length === 2) {

                scores.push($(this).text());
                numberScoresArr.push(parseInt(scores[2]));


                console.log(scores);

            }

        });

        $('#Q4 > a').on("click", function () {

            event.preventDefault();

            if (scores.length === 3) {

                scores.push($(this).text());
                numberScoresArr.push(parseInt(scores[3]));


                console.log(scores);

            }

        });


        $('#Q5 > a').on("click", function () {

            event.preventDefault();

            if (scores.length === 4) {

                scores.push($(this).text());
                numberScoresArr.push(parseInt(scores[4]));


                console.log(scores);

            }

        });


        $('#submit').on("click", function () {

            event.preventDefault();

            let name = $('#name').val().trim();
            surveyObj["name"] = name;

            let photo = $('#photo').val().trim();
            surveyObj["photo"] = photo;

            console.log(numberScoresArr);

            surveyObj["scores"] = numberScoresArr;


            $.post("/api/friendslist", surveyObj,
                function (data) {

                    // console.log(surveyObj);

                    // If a friend is available... tell user it's been added.
                    if (data) {
                        console.log("A friend was added to the list");
                    }

                    // If no friend was added then debug as to why someone wasn't added.
                    else {
                        console.log("No one was added to the friendslist");
                    }

                    // Clear the form when submitting
                    $('#name').val("");
                    $('#photo').val("");

                });

        });


    </script>

</body>

</html>